<?php

require_once '../app/Core/Model.php';

class User extends Model
{

    public function getUnsafe($username, $password)
    {
        $stmt = $this->pdo->query("SELECT * FROM users WHERE username = '$username' AND password = '$password'");
        return $stmt->fetch();
    }

    public function getSafe($username, $password)
    {
        $stmt = $this->pdo->prepare('SELECT * FROM users WHERE username = ? AND password = ?');
        $stmt->execute([$username, $password]);
        return $stmt->fetch();
    }

    public function registerSafe($username, $password)
    {
        $stmt = $this->pdo->prepare('INSERT INTO users (username, password) VALUES (?, ?)');
        $stmt->execute([$username, $password]);
        return $stmt->rowCount();
    }

    public function registerUnSafe($username, $password)
    {
        $stmt = $this->pdo->query("INSERT INTO users (username, password) VALUES ('$username', '$password')");
        return $stmt->rowCount();
    }
}
